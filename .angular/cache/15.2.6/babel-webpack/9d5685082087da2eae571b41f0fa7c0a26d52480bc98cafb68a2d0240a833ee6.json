{"ast":null,"code":"import { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { SubscriptionLoggable } from './SubscriptionLoggable';\nimport { applyMixins } from '../util/applyMixins';\nexport class ColdObservable extends Observable {\n  constructor(messages, scheduler) {\n    super(function (subscriber) {\n      const observable = this;\n      const index = observable.logSubscribedFrame();\n      const subscription = new Subscription();\n      subscription.add(new Subscription(() => {\n        observable.logUnsubscribedFrame(index);\n      }));\n      observable.scheduleMessages(subscriber);\n      return subscription;\n    });\n    this.messages = messages;\n    this.subscriptions = [];\n    this.scheduler = scheduler;\n  }\n  scheduleMessages(subscriber) {\n    const messagesLength = this.messages.length;\n    for (let i = 0; i < messagesLength; i++) {\n      const message = this.messages[i];\n      subscriber.add(this.scheduler.schedule(({\n        message,\n        subscriber\n      }) => {\n        message.notification.observe(subscriber);\n      }, message.frame, {\n        message,\n        subscriber\n      }));\n    }\n  }\n}\napplyMixins(ColdObservable, [SubscriptionLoggable]);","map":{"version":3,"names":["Observable","Subscription","SubscriptionLoggable","applyMixins","ColdObservable","constructor","messages","scheduler","subscriber","observable","index","logSubscribedFrame","subscription","add","logUnsubscribedFrame","scheduleMessages","subscriptions","messagesLength","length","i","message","schedule","notification","observe","frame"],"sources":["/home/anurag/node_modules/rxjs/_esm2015/internal/testing/ColdObservable.js"],"sourcesContent":["import { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { SubscriptionLoggable } from './SubscriptionLoggable';\nimport { applyMixins } from '../util/applyMixins';\nexport class ColdObservable extends Observable {\n    constructor(messages, scheduler) {\n        super(function (subscriber) {\n            const observable = this;\n            const index = observable.logSubscribedFrame();\n            const subscription = new Subscription();\n            subscription.add(new Subscription(() => {\n                observable.logUnsubscribedFrame(index);\n            }));\n            observable.scheduleMessages(subscriber);\n            return subscription;\n        });\n        this.messages = messages;\n        this.subscriptions = [];\n        this.scheduler = scheduler;\n    }\n    scheduleMessages(subscriber) {\n        const messagesLength = this.messages.length;\n        for (let i = 0; i < messagesLength; i++) {\n            const message = this.messages[i];\n            subscriber.add(this.scheduler.schedule(({ message, subscriber }) => { message.notification.observe(subscriber); }, message.frame, { message, subscriber }));\n        }\n    }\n}\napplyMixins(ColdObservable, [SubscriptionLoggable]);\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,eAAe;AAC1C,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,oBAAoB,QAAQ,wBAAwB;AAC7D,SAASC,WAAW,QAAQ,qBAAqB;AACjD,OAAO,MAAMC,cAAc,SAASJ,UAAU,CAAC;EAC3CK,WAAW,CAACC,QAAQ,EAAEC,SAAS,EAAE;IAC7B,KAAK,CAAC,UAAUC,UAAU,EAAE;MACxB,MAAMC,UAAU,GAAG,IAAI;MACvB,MAAMC,KAAK,GAAGD,UAAU,CAACE,kBAAkB,EAAE;MAC7C,MAAMC,YAAY,GAAG,IAAIX,YAAY,EAAE;MACvCW,YAAY,CAACC,GAAG,CAAC,IAAIZ,YAAY,CAAC,MAAM;QACpCQ,UAAU,CAACK,oBAAoB,CAACJ,KAAK,CAAC;MAC1C,CAAC,CAAC,CAAC;MACHD,UAAU,CAACM,gBAAgB,CAACP,UAAU,CAAC;MACvC,OAAOI,YAAY;IACvB,CAAC,CAAC;IACF,IAAI,CAACN,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACU,aAAa,GAAG,EAAE;IACvB,IAAI,CAACT,SAAS,GAAGA,SAAS;EAC9B;EACAQ,gBAAgB,CAACP,UAAU,EAAE;IACzB,MAAMS,cAAc,GAAG,IAAI,CAACX,QAAQ,CAACY,MAAM;IAC3C,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,cAAc,EAAEE,CAAC,EAAE,EAAE;MACrC,MAAMC,OAAO,GAAG,IAAI,CAACd,QAAQ,CAACa,CAAC,CAAC;MAChCX,UAAU,CAACK,GAAG,CAAC,IAAI,CAACN,SAAS,CAACc,QAAQ,CAAC,CAAC;QAAED,OAAO;QAAEZ;MAAW,CAAC,KAAK;QAAEY,OAAO,CAACE,YAAY,CAACC,OAAO,CAACf,UAAU,CAAC;MAAE,CAAC,EAAEY,OAAO,CAACI,KAAK,EAAE;QAAEJ,OAAO;QAAEZ;MAAW,CAAC,CAAC,CAAC;IAC/J;EACJ;AACJ;AACAL,WAAW,CAACC,cAAc,EAAE,CAACF,oBAAoB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}